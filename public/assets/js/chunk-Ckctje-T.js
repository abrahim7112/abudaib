import{r as o,j as e}from"./app-C8sgMJku.js";const C="_testimonialsPage_b1m1a_2",A="_testimonialsHeader_b1m1a_6",$="_testimonialsCarouselWrapper_b1m1a_26",I="_testimonialsCarousel_b1m1a_26",R="_ltrAnim_b1m1a_42",y="_rtlAnim_b1m1a_46",P="_testimonialCard_b1m1a_65",T="_testimonialRating_b1m1a_84",W="_testimonialContent_b1m1a_91",S="_testimonialAuthor_b1m1a_99",E="_authorAvatar_b1m1a_105",B="_authorInfo_b1m1a_113",k="_star_b1m1a_124",D="_filled_b1m1a_127",H="_carouselNav_b1m1a_131",L="_navBtn_b1m1a_142",q="_carouselDots_b1m1a_164",w="_dot_b1m1a_171",O="_active_b1m1a_181",X="_loading_b1m1a_219",z="_noTestimonials_b1m1a_219",t={testimonialsPage:C,testimonialsHeader:A,testimonialsCarouselWrapper:$,testimonialsCarousel:I,ltrAnim:R,rtlAnim:y,testimonialCard:P,testimonialRating:T,testimonialContent:W,testimonialAuthor:S,authorAvatar:E,authorInfo:B,star:k,filled:D,carouselNav:H,navBtn:L,carouselDots:q,dot:w,active:O,loading:X,noTestimonials:z},G=({lang:r,setLang:d})=>{o.useEffect(()=>{const s=localStorage.getItem("siteLang");s&&["de","en"].includes(s)?d(s):d(navigator.language.startsWith("de")?"de":"en")},[d]);const[a,p]=o.useState([]),[x,f]=o.useState(!0),i=r==="de";o.useEffect(()=>{fetch("/api/testimonials").then(s=>s.json()).then(s=>{p(s),f(!1)}).catch(()=>f(!1))},[]);const b=s=>[...Array(5)].map((n,c)=>e.jsx("span",{className:`${t.star} ${c<s?t.filled:""}`,children:"★"},c)),[u,m]=o.useState(0),[l,g]=o.useState(!0),_=o.useRef(null),h=o.useRef(null),v=()=>{h.current&&clearInterval(h.current),g(!1),h.current=setTimeout(()=>g(!0),3e3)},j=()=>{m(s=>(s+1)%a.length),v()},N=()=>{m(s=>(s-1+a.length)%a.length),v()};return o.useEffect(()=>{if(_.current&&!l){const c=-(u*382);_.current.style.transform=`translateX(${i?-c:c}px)`}},[u,i,l]),o.useEffect(()=>{if(!l||a.length===0)return;const s=setInterval(()=>{m(n=>(n+1)%a.length)},5e3);return()=>clearInterval(s)},[l,a.length]),x?e.jsx("div",{className:t.loading,children:"جارٍ التحميل..."}):e.jsxs("div",{className:`${t.testimonialsPage} ${i?t.rtl:t.ltr}`,dir:i?"rtl":"ltr",children:[e.jsxs("header",{className:t.testimonialsHeader,children:[e.jsx("h1",{children:r==="de"?"آراء عملائنا":"What Our Clients Say"}),e.jsx("p",{children:r==="de"?"لقد واصلنا ابداعنا مع مجموعة من أهم رواد الأعمال فى شتى المجالات":"We’ve partnered with leading entrepreneurs across various industries."})]}),a.length>0?e.jsxs("div",{className:t.testimonialsCarouselWrapper,children:[e.jsx("div",{ref:_,className:`${t.testimonialsCarousel} ${l?i?t.rtlAnim:t.ltrAnim:""}`,style:{transition:"transform 0.5s ease-in-out"},children:[...a,...a].map((s,n)=>e.jsxs("div",{className:t.testimonialCard,children:[e.jsx("div",{className:t.testimonialRating,children:b(s.rating)}),e.jsxs("blockquote",{className:t.testimonialContent,children:['"',s.content[r],'"']}),e.jsxs("div",{className:t.testimonialAuthor,children:[e.jsx("img",{src:`https://i.pravatar.cc/150?img=${n%6+1}`,alt:s.name,className:t.authorAvatar}),e.jsxs("div",{className:t.authorInfo,children:[e.jsx("strong",{children:s.name}),e.jsxs("span",{children:[s.role[r]," ",i?"في":"at"," ",s.company]})]})]})]},n))}),e.jsxs("div",{className:t.carouselNav,children:[e.jsx("button",{onClick:N,className:`${t.navBtn} ${t.prev}`,children:i?"→":"←"}),e.jsx("button",{onClick:j,className:`${t.navBtn} ${t.next}`,children:i?"←":"→"})]}),e.jsx("div",{className:t.carouselDots,children:a.map((s,n)=>e.jsx("button",{onClick:()=>{m(n),v()},className:`${t.dot} ${n===u?t.active:""}`},n))})]}):e.jsx("p",{className:t.noTestimonials,children:r==="de"?"لا توجد آراء حالياً":"No testimonials available"})]})};export{G as T};
